pub const DESERET_IPA_MAPPING: &[((char, char), &'static str)] = &[
    (('ð€', 'ð¨'), "iË"),
    (('ð', 'ð©'), "eÉª"),
    (('ð‚', 'ðª'), "É‘Ë"),
    (('ðƒ', 'ð«'), "É”Ë"),
    (('ð„', 'ð¬'), "oÊŠ"),
    (('ð…', 'ð­'), "uË"),
    (('ð†', 'ð®'), "Éª"),
    (('ð‡', 'ð¯'), "É›"),
    (('ðˆ', 'ð°'), "Ã¦"),
    (('ð‰', 'ð±'), "É’"),
    (('ðŠ', 'ð²'), "ÊŒ"),
    (('ð‹', 'ð³'), "ÊŠ"),
    (('ðŒ', 'ð´'), "aÉª"),
    (('ð', 'ðµ'), "aÊŠ"),
    (('ðŽ', 'ð¶'), "w"),
    (('ð', 'ð·'), "j"),
    (('ð', 'ð¸'), "h"),
    (('ð‘', 'ð¹'), "p"),
    (('ð’', 'ðº'), "b"),
    (('ð“', 'ð»'), "t"),
    (('ð”', 'ð¼'), "d"),
    (('ð•', 'ð½'), "tÊƒ"),
    (('ð–', 'ð¾'), "dÊ’"),
    (('ð—', 'ð¿'), "k"),
    (('ð˜', 'ð‘€'), "É¡"),
    (('ð™', 'ð‘'), "f"),
    (('ðš', 'ð‘‚'), "v"),
    (('ð›', 'ð‘ƒ'), "Î¸"),
    (('ðœ', 'ð‘„'), "Ã°"),
    (('ð', 'ð‘…'), "s"),
    (('ðž', 'ð‘†'), "z"),
    (('ðŸ', 'ð‘‡'), "Êƒ"),
    (('ð ', 'ð‘ˆ'), "Ê’"),
    (('ð¡', 'ð‘‰'), "r"),
    (('ð¢', 'ð‘Š'), "l"),
    (('ð£', 'ð‘‹'), "m"),
    (('ð¤', 'ð‘Œ'), "n"),
    (('ð¥', 'ð‘'), "Å‹"),
    (('ð¦', 'ð‘Ž'), "É”Éª"),
    (('ð§', 'ð‘'), "juË"),
];

pub fn lookup(deseret_char: char) -> Option<&'static str> {
    DESERET_IPA_MAPPING.iter().find_map(|((cap, lower), ipa)| {
        if deseret_char == *cap || deseret_char == *lower {
            Some(*ipa)
        } else {
            None
        }
    })
}

pub fn translate_iter(text: &str) -> impl Iterator<Item = &str> {
    text.char_indices().map(|(i, c)| {
        if let Some(ipa) = lookup(c) {
            ipa
        } else {
            &text[i..i + c.len_utf8()]
        }
    })
}
